{% extends 'master' %}

{% block header %}
  <h2>Testētāji</h2>
  <p class="lead">Testēšanas sistēmu stāvoklis</p>
{% endblock %}

{% block content %}

  <div class="progress">
    <div class="progress-bar progress-bar-warning" style="width: {{ statistics[ 0 ].width }}%">
      <span>Rindā {{ statistics[ 0 ].cnt }}</span>
    </div>
    <div class="progress-bar progress-bar-success progress-bar-striped" style="width: {{ statistics[ 1 ].width }}%">
      <span>Testējas {{ statistics[ 1 ].cnt }}</span>
    </div>
    {% if statistics.total == 0 %}
    <div class="progress-bar progress-bar-success" style="width: 100%">
    </div>
    {% endif %}
  </div>

  <table class="table ftable">
    <thead>
      <tr>
        <th>ID</th>
        <th style="width: 40px;"></th>
        <th>Apraksts</th>
        <th>Pēdējās izmaiņas</th>
        <th>Notestēti</th>
        <th>Status</th>
        <th>Testē</th>
      </tr>
    </thead>
    <tbody>
      {% for judge in judges %}
        <tr>
          <td>{{ judge.name }}</td>
          <td class="text-center">
            {% if judge.disabled %}
              <span class="glyphicon glyphicon-pause" aria-hidden="true"></span>
            {% else %}
              <span class="glyphicon glyphicon-play" style="color: green;" aria-hidden="true"></span>
            {% endif %}
          </td>
          <td>{{ judge.description }}</td>
          <td>{{ judge.updated_at }}</td>
          <td>{{ judge.tested }}</td>
          <td class="bold">{{ judge.status }}</td>
          <td>
            {% if judge.submission_id %}
              <a href="{{ 'SubmissionController.show' | action({id: judge.submission_id}) }}">
                {{ judge.submission_id }}
              </a>
            {% endif %}
          </td>
        </tr>
      </tbody>
      {% endfor %}
    </table>
{% endblock %}
